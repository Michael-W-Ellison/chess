# =========================================
# Tamagotchi Chatbot Backend Configuration
# =========================================
# Copy this file to .env and configure for your environment
# cp .env.example .env

# -----------------------------------------
# Server Configuration
# -----------------------------------------
HOST=127.0.0.1
PORT=8000
DEBUG=true
LOG_LEVEL=INFO
LOG_FILE=./logs/chatbot.log

# -----------------------------------------
# Database Configuration
# -----------------------------------------
DATABASE_URL=sqlite:///./data/chatbot.db

# -----------------------------------------
# LLM Model Configuration
# -----------------------------------------
# Path to the GGUF model file
# Download models from HuggingFace:
# - Llama 3.2 3B: https://huggingface.co/TheBloke/Llama-3.2-3B-Instruct-GGUF
# - Phi-3 Mini: https://huggingface.co/microsoft/Phi-3-mini-4k-instruct-gguf
MODEL_PATH=./models/llama-3.2-3b-instruct-q4_k_m.gguf

# Model parameters
MODEL_CONTEXT_LENGTH=2048
MODEL_MAX_TOKENS=150
MODEL_TEMPERATURE=0.7
MODEL_TOP_P=0.9
MODEL_TOP_K=40

# GPU acceleration (set to -1 for all GPU layers, 0 for CPU only)
MODEL_N_GPU_LAYERS=0

# -----------------------------------------
# Safety Configuration
# -----------------------------------------
# Enable/disable safety features
ENABLE_SAFETY_FILTER=true
ENABLE_PROFANITY_FILTER=true
ENABLE_CRISIS_DETECTION=true
LOG_SAFETY_EVENTS=true
ENABLE_PARENT_NOTIFICATIONS=false

# Parent notification email (if enabled)
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USERNAME=your-email@gmail.com
SMTP_PASSWORD=your-app-password
SMTP_FROM_EMAIL=your-email@gmail.com

# -----------------------------------------
# Feature Flags
# -----------------------------------------
# Enable optional features
ENABLE_VECTOR_MEMORY=false
CHROMADB_PATH=./data/chromadb
ENABLE_WEEKLY_REPORTS=true

# -----------------------------------------
# Security
# -----------------------------------------
PARENT_DASHBOARD_REQUIRE_PASSWORD=true

# -----------------------------------------
# Application Settings
# -----------------------------------------
# Personality drift limits
MAX_TRAIT_DRIFT_PER_CONVERSATION=0.02
MAX_TRAIT_DRIFT_PER_MONTH=0.15

# Friendship level thresholds (number of conversations)
FRIENDSHIP_LEVEL_2_THRESHOLD=5
FRIENDSHIP_LEVEL_3_THRESHOLD=15
FRIENDSHIP_LEVEL_4_THRESHOLD=30
FRIENDSHIP_LEVEL_5_THRESHOLD=50
FRIENDSHIP_LEVEL_6_THRESHOLD=75
FRIENDSHIP_LEVEL_7_THRESHOLD=100
FRIENDSHIP_LEVEL_8_THRESHOLD=125
FRIENDSHIP_LEVEL_9_THRESHOLD=150
FRIENDSHIP_LEVEL_10_THRESHOLD=151

# -----------------------------------------
# Development Settings
# -----------------------------------------
# CORS origins (comma-separated)
CORS_ORIGINS=http://localhost:5173,http://127.0.0.1:5173

# Enable auto-reload for development
RELOAD=true

# -----------------------------------------
# Production Settings (override for production)
# -----------------------------------------
# Uncomment these for production deployment:
# DEBUG=false
# LOG_LEVEL=WARNING
# RELOAD=false
# CORS_ORIGINS=
